(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{9279:function(e,t,r){"use strict";var n=r(5893),c=r(6265),i=r(7294),o=r(4184),a=r.n(o),l=r(1752),s=r(1163),d=r(3766),u=r(9391),m=r(1246),h=r.n(m);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=(0,l.default)().publicRuntimeConfig,p=function(e){var t=(0,i.useState)({loaded:!1,broadcasts:[],active:"air",error:null}),r=t[0],o=t[1],l=(0,d.Z)((function(e){return e.livePlayer})),m=(0,i.useRef)({urls:{channels:"".concat(b.API_URL,"/v2/special/channels.json"),embedBroadcast:b.PLAYER_SPORT,embedAir:b.PLAYER_ORBIT_0},reloadTimeout:null,broadcastsTimeout:null,reloadTime:300}),v=(0,s.useRouter)(),p=window.AbortController?new window.AbortController:null,_=function e(){fetch(m.current.urls.channels,{signal:null===p||void 0===p?void 0:p.signal}).then((function(e){return e.json()})).then((function(e){if(!e.channels.length)throw new Error("Empty broadcasts");var t=[],r=null;e.channels.forEach((function(e){if(r=e.schedule_item){if("live"===r.stream_id)return;t.push({id:r.id,channel:e.id,title:r.title,button:r.live_button_name||r.title,poster:r.poster_thumb_url_large||r.poster_url,url:r.broadcast_url,time_begin:r.begin_at,time_end:r.end_at,embed:"".concat(m.current.urls.embedBroadcast,"?channel_id=").concat(e.id,"&channels_api_url=").concat(m.current.urls.channels)})}})),t.length&&t.unshift({id:"air",button:"\u0422\u0435\u043b\u0435\u044d\u0444\u0438\u0440"}),o((function(e){return f(f({},e),{},{loaded:!0,broadcasts:t})}))})).catch((function(e){"AbortError"!==e.name&&o((function(t){return f(f({},t),{},{loaded:!0,error:e})}))})),m.current.broadcastsTimeout||(m.current.broadcastsTimeout=setInterval((function(){e()}),1e3*m.current.reloadTime))},g=function(t){if(!t.target.classList.contains("active")){var n=t.target.getAttribute("data-id");if(e.onClickRedirect&&""!==e.onClickRedirect)v.push("".concat(e.onClickRedirect).concat("air"!==n?"#".concat(n):""));else{var c=t.target.dataset.id,i=null;if("air"===c)i=m.current.urls.embedAir,e.toggleSchedule&&e.toggleSchedule(!0);else{var a=r.broadcasts.filter((function(e){return e.id===parseInt(c,10)}));a&&(i=a.shift().embed),"air"===r.active&&(m.current.urls.embedAir=l.controls.getSource()),e.toggleSchedule&&e.toggleSchedule(!1)}i&&(l.controls.setSource(i),o((function(e){return f(f({},e),{},{active:c})})))}}};return(0,i.useEffect)((function(){if(l.controls&&r.broadcasts.length){var t=v.asPath.match(/#([a-z0-9]+)/);if(t&&t[1]){var n=+t[1],c=r.broadcasts.find((function(e){return e.id===n}));c&&(e.toggleSchedule&&e.toggleSchedule(!1),l.controls.setSource(c.embed),o((function(e){return f(f({},e),{},{active:n})})))}}}),[r.broadcasts,l.controls]),(0,i.useEffect)((function(){return _(),function(){p&&p.abort()}}),[]),(0,n.jsx)("div",{className:h().broadcasts,children:r.broadcasts.map((function(e){var t=r.active.toString()===e.id.toString();return(0,n.jsx)(u.Z,{type:"blue","data-id":e.id,className:a()(h().button,(0,c.Z)({},h().active,t)),active:t,handleClick:g,children:e.button},e.id)}))})};t.Z=i.memo(p)},2197:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n=r(5893),c=r(7294),i=r(3152),o=r(6265),a=r(5152),l=r(4184),s=r.n(l),d=r(9226),u=r(9279),m=r(2649),h=r(2079),v=r.n(h),f=r(6780),b=r(8099),p=r(3601),_=r(2944),g=r(3807),j=r(3766),x=r(4170),P=(0,a.default)((function(){return Promise.all([r.e(206),r.e(284)]).then(r.bind(r,841))}),{ssr:!1,loadableGenerated:{webpack:function(){return[841]},modules:["../components/shared/player/LivePlayer/LivePlayerLiveBlock/LivePlayerLiveBlock.tsx -> @/components/shared/player/LivePlayer/LivePlayer"]}}),w=function(){var e=(0,j.Z)((function(e){return e.vitrinatv})),t=(0,d.I0)(),r=(0,c.useState)(!0),i=r[0],a=r[1];return(0,c.useEffect)((function(){e.loaded||t((0,x.Lb)())}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:s()("container",v().wrapper),children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-md-12",children:(0,n.jsx)(u.Z,{toggleSchedule:a})})}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:s()("col-sm-12 col-md-7 col-lg-8",v().player,(0,o.Z)({},v().wide,!i)),children:(0,n.jsx)(P,{minimize:!0,options:{options:{interactive:!0,muted:!0}}})}),(0,n.jsx)("div",{className:s()("col-sm-12 col-md-5 col-lg-4",v().schedule,(0,o.Z)({},v().hidden,!i)),children:(0,n.jsx)(b.Z,{children:(0,n.jsx)(m.Z,{visible:i})})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:s()("col-sm-12 col-md-7 col-lg-8",v().link)}),(0,n.jsx)("div",{className:s()("col-sm-12 col-md-5 col-lg-4",v().link),children:(0,n.jsx)(f.Z,{href:"/schedule",children:"\u0412\u0441\u044f \u0442\u0435\u043b\u0435\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430"})})]})]}),(0,n.jsx)(p.Z,{hideOnMobile:!0,borderTop:!0,paddingTop:!0,paddingBottom:!0,children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)(_.Z,{promoPlaceNumber:1,stubPromoPlaceNumber:57})})}),(0,n.jsx)(p.Z,{borderTop:!0,paddingTop:!0,children:(0,n.jsx)("div",{className:s()("container",v().channels),children:(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("h2",{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0442\u0435\u043b\u0435\u043a\u0430\u043d\u0430\u043b\u044b"}),(0,n.jsx)(g.Z,{items:e.data})]})})})})]})},y=c.memo(w),L=r(8224),N=r(7783),k=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.Z,{title:"\u041f\u0415\u0420\u0412\u042b\u0419 \u041a\u0410\u041d\u0410\u041b \u041f\u0420\u042f\u041c\u041e\u0419 \u042d\u0424\u0418\u0420 \u0421\u041c\u041e\u0422\u0420\u0415\u0422\u042c \u041e\u041d\u041b\u0410\u0419\u041d",description:"\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440",twitterDescription:"\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440",ogDescription:"\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440"}),(0,n.jsx)(i.Z,{promoPlaceNumber:149,stubPromoPlaceNumber:151,bottomFade:!0}),(0,n.jsx)(y,{}),(0,n.jsx)(p.Z,{paddingTop:!0,paddingBottom:!0,children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)(L.Z,{})})})]})};k.pageName="\u042d\u0444\u0438\u0440";var Z=c.memo(k)},8502:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return r(2197)}])},1246:function(e){e.exports={broadcasts:"Broadcasts_broadcasts__27mAS",button:"Broadcasts_button__1oplJ",active:"Broadcasts_active__v87vZ"}},2079:function(e){e.exports={wrapper:"LivePlayerLiveBlock_wrapper__2AlGc",player:"LivePlayerLiveBlock_player__Y312j",wide:"LivePlayerLiveBlock_wide__1BJVZ",schedule:"LivePlayerLiveBlock_schedule__1_xpZ",hidden:"LivePlayerLiveBlock_hidden__21FJA",link:"LivePlayerLiveBlock_link__3q6Qh",channels:"LivePlayerLiveBlock_channels__3BB6m"}}},function(e){e.O(0,[678,398,27,403,761,859,392,774,888,179],(function(){return t=8502,e(e.s=t);var t}));var t=e.O();_N_E=t}]);