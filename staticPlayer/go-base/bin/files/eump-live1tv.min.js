(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t={}.hasOwnProperty;i=function(){function a(a,b,c){this.player=a,this.block=b,this.options=c,this.handleVisibilitychange=function(a){return function(){return a.player.visible()?a.start():(a.lastVisibleCurrentTime=a.player().currentTime(),a.stop())}}(this)}return a.prototype.install=function(){return this.player.on("visibilitychange",this.handleVisibilitychange)},a.prototype.uninstall=function(){return this.player.off("visibilitychange",this.handleVisibilitychange)},a.prototype.start=function(){return this.lastCurrentTime=this.player().currentTime(),this.timeoutId=player.setTimeout(function(a){return function(){if(a.player().currentTime()===a.startCurrentTime)return a.block.call(a.lastVisibleCurrentTime)}}(this),this.options.timeout)},a.prototype.stop=function(){return player.clearTimeout(this.timeoutId)},a}(),k=function(){function a(a,b){this.src=a,this.seekWindowDuration=b}return a.prototype.isTimeAvailable=function(a){var b;return b=this.getSeekWindow(),a<=b[1]&&a>=b[0]},a.prototype.getSeekWindow=function(){var a,b;return a=Date.now()/1e3,b=a-this.seekWindowDuration,[b,a]},a}(),j=function(){function a(a,b,c){this.player=a,this.shortSource=b,this.longSource=c,this.currentSource=this.shortSource,this.lastCurrentTime=null,this.sourceIsSwitching=!1}return a.prototype.getSeekWindow=function(){return this.isHLSSourceCurrent()?this.longSource.getSeekWindow():this.player.engine().getSeekWindow()},a.prototype.currentTime=function(a){return null!=a?this.setCurrentTime(a):this.getCurrentTime()},a.prototype.getCurrentTime=function(){return this.isHLSSourceCurrent()?this.sourceIsSwitching?this.lastCurrentTime:(this.lastCurrentTime=this.player.engine().currentTime(),this.lastCurrentTime):this.player.engine().currentTime()},a.prototype.setCurrentTime=function(a){return this.isHLSSourceCurrent()?this.shortSource.isTimeAvailable(a)?void this.switchTo(this.shortSource,function(b){return b.currentTime(a)}):void(this.longSource.isTimeAvailable(a)&&this.switchTo(this.longSource,function(b){return b.currentTime(a)})):this.player.engine().currentTime(a)},a.prototype.isHLSSourceCurrent=function(){var a;return"function"==typeof(a=this.player.engine()).isCurrentSrcHLS?a.isCurrentSrcHLS():void 0},a.prototype.switchTo=function(a,b){var c,d,e;if(c=this.player.engine().name,d=["html5","html5p"].indexOf(c)>-1?"timeupdate":"loadedmetadata",this.currentSource===a&&"html5hlsjs"===c&&(d="timeupdate"),"timeupdate"===d&&this.player.play(),e=this.player.engine().paused(),this.player.one(d,function(a){return function(){var c;return a.sourceIsSwitching=!1,c=a.player.engine(),e||c.play(),b(c)}}(this)),this.currentSource!==a)return this.sourceIsSwitching=!0,this.currentSource=a,this.player.trigger("control.src",{src:this.currentSource.src})},a}(),d=window.EUMP.device,g=window.EUMP.res.svg,f=window.EUMP.res.resources,c=window.EUMP.res.animation,g.live1tv_ctrl_now='<circle cx="4.5" cy="4" r="4" fill="white"/>',g.live1tv_ctrl_now_small='<path d="M11.32 3.58006C13.2566 5.36307 13.2566 8.13666 11.32 9.91968" stroke="white" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.31738 9.91968C4.38079 8.13666 4.38079 5.36307 6.31738 3.58006" stroke="white" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.6599 1.5C16.78 4.37264 16.78 9.12736 13.6599 12" stroke="white" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M4.16504 12C1.04497 9.12736 1.04497 4.37264 4.16504 1.5" stroke="white" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.71191 5.40283C7.88349 5.40283 7.21191 6.0744 7.21191 6.90283C7.21191 7.73126 7.88349 8.40283 8.71191 8.40283C9.54034 8.40283 10.2119 7.73126 10.2119 6.90283C10.2119 6.0744 9.54034 5.40283 8.71191 5.40283Z" fill="white"/>',g.live1tv_ctrl_return='<path d="M1 10.6479V3.02683C1 2.09536 1.75 1.33325 2.66667 1.33325H12.6667C13.5833 1.33325 14.5 2.09536 14.5 3.02683V7.26078" stroke="white" stroke-width="2" stroke-linecap="round"/><path d="M11.333 6.24463L14.4997 9.03904" stroke="white" stroke-width="2" stroke-linecap="round"/><path d="M17.6663 6.24463L14.583 9.03904" stroke="white" stroke-width="2" stroke-linecap="round"/><path d="M14.333 13.8318L14.333 15.5" stroke="white" stroke-width="2" stroke-linecap="round"/><path d="M1.16699 14.7124H16.8337" stroke="white" stroke-width="2" stroke-linecap="round"/>',f.live1tv_ctrl_now=["div",{cls:"eump-control-live1tv-now eump-v-wrap eump-branded-hover-active"},"ctrl_play","before"],f.live1tv_ctrl_now_lottie=["lottie-player",{cls:"eump-control-now-live-lottie"},"live1tv_ctrl_now"],f.live1tv_ctrl_now_text=["span",{html:"ЭФИР"},"live1tv_ctrl_now"],f.live1tv_ctrl_now_small=["div",{cls:"eump-control-live1tv-now-small eump-v-wrap eump-branded-hover-active",attr:window.EUMP.res.ctrlAttrs,html:'<svg class="eump-v-box eump-control-now-live" width="16" height="16" viewBox="0 0 17 13" '+window.EUMP.res.svgAttrs+">"+g.live1tv_ctrl_now_small+'</svg><svg class="eump-v-box eump-control-now-return" width="20" height="20" viewBox="0 0 19 17"'+window.EUMP.res.svgAttrs+">"+g.live1tv_ctrl_return+"</svg>"},"ctrl_play","before"],f.live1tv_ctrl_next=["lottie-player",{cls:"eump-control eump-control-live1tv-next eump-v-wrap",attr:window.EUMP.res.ctrlAttrs},"ctrl_play","after"],f.live1tv_ctrl_prev=["lottie-player",{cls:"eump-control eump-control-live1tv-prev eump-v-wrap",attr:window.EUMP.res.ctrlAttrs},"ctrl_play","before"],f.live1tv_comsticker=["div",{cls:"eump-live1tv-comsticker"}],f.live1tv_placeholder=["div",{cls:"eump-live1tv-placeholder eump-fullport eump-v-wrap"}],f.live1tv_forbidden=["div",{cls:"eump-live1tv-forbidden"},"live1tv_placeholder"],f.live1tv_serifs=["div",{cls:"eump-live1tv-serifs"},"timeline"],window.EUMP.res.templates.live1tv_serif='<div class="eump-timeline-serif" style="left: [left]"><span>[time]</span></div>',a="^ZZ$|^ZZ,|,ZZ$|,ZZ,",q=function(a,b){var c,d;if(0===a.length)return!1;for(c=Math.floor(b),d=a.length-1;d>=0&&!(a[d].begin<=c&&a[d].end>b);)d--;return d>=0},window.EUMP.plugins.live1tv=function(e,g){var h,i,l,m,n,o,p,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;for(G={startTime:void 0,defaultTitle:"Прямой эфир Первый канал",titleTemplate:"%title%. Прямой эфир Первый канал",resources:f,seekable:!0,singlePosition:!1,labels:{nextPos:"Next position",prevPos:"Previous position",moveToLive:"Move to live",returnToLive:"Return to live",comsticker:"AD WILL BE OVER IN [time] SECONDS",forbidden_geo:"Forbidden in your country",forbidden_denied:"Forbidden for online view",forbidden_rewind:"Forbidden rewind",forbidden_embed:"Forbidden embedding",adsticker:"ADVERTISMENT"},liveTimeShift:-5,bumpers:void 0,minSeekableDuration:600,comInject:{limitQuality:100,creativeDurationDelta:5,minBlockDuration:20},colorSchemeColors:{},domain:void 0,partnersDomains:["*.1tv.ru"],homeDomains:["*.1tv.ru"],stopOnForbidden:d.is("mobile"),injectBlockSilence:5e3,liveRewindSpeed:5},H=new window.EUMP.proto.Plugin("live1tv",e,G),h=e._,g&&h.extend(G,g),L=[],m=[],R=[],K=[],p="ZZ",s=void 0,A={time:0},v={enabled:!1,block:{}},P=e.opts.liveTimeOffset||0,o={enabled:!1,sticker_enabled:!1,sticker_mode:void 0,start:void 0,end:void 0,duration:void 0,current:void 0,rt_time:void 0},O={schedulePosId:void 0,nextPosTime:void 0},r=G.startTime?G.startTime:Date.now()/1e3,Q=void 0,H.canSeekNext=!0,H.canSeekPrev=!0,H.animationLoaded=!1,H.checkedSubtitles=0,H.captionsOn=!0,l=null,w=function(){var a,b,c,d,f,g,h,i,m;if(null!=l)return l;for(m=[],g=e.item().src,c=0,d=g.length;c<d;c++)i=g[c],"hls"!==i.id&&"hlsp"!==i.id||m.push(i);return b=14400,h=new k(m[0],b),a=43200,f=new k(m[1],a),l=new j(e,h,f)},S=function(a,b){var d,f,g,i,j,k,l,m,n,o,p,q,u,x,z,A,B;if(!("ready"!==e.readyState||e.hasPlugin("com")&&e.com.block())){if(B=G.defaultTitle,p=void 0,k=e.engine(),L.length){for(z=k?w().currentTime()||r:r,l=L.length-1;l>-1&&z<L[l].begin;)l--;l>-1&&(!L[l].end||L[l].end>z)&&(p=L[l])}if(!b||void 0!==p){if(q=void 0===p&&void 0!==s||void 0!==p&&(void 0===s||s.id!==p.id||s.title!==p.title||s.begin!==p.begin||s.end!==p.end||s.rewind_allowed!==p.rewind_allowed||s.forbidden_embed!==p.forbidden_embed||s.available!==p.available),q||a===!0){if(o=void 0,s&&(o=s.id),q&&(void 0!==p?(s=h.copy(p),s.index=l):s=void 0),void 0!==s){if(e.addClass("eump-live1tv-active-pos"),!s.sub_titres&&H.checkedSubtitles<2&&(e.optionsElements().captions&&e.optionsElements().captions.disable(),H.checkedSubtitles+=1),q&&(s.sub_titres?(e.optionsElements().captions&&e.optionsElements().captions.enable(),H.captionsOn=!0,e.toggleCaptions(!1),e.setTimeout(function(){return e.loadAnimations(["captions"])},100)):(e.optionsElements().captions&&e.optionsElements().captions.disable(),e.toggleCaptions(!1),H.captionsOn=!1)),B=s.title,t(s.begin-P,s.end-P),Q.disable(),k&&(x=w().getSeekWindow(),G.seekable&&k&&s.rewind_allowed&&0===s.forbidden_level&&!s.forbidden_embed&&x[0]!==-1&&x[1]!==-1&&x[1]-x[0]>G.minSeekableDuration&&(x[0]<=s.end||x[1]>=s.begin)?Q.enable():Q.disable(),g=!G.singlePosition&&x[0]!==-1&&x[1]!==-1&&x[1]-x[0]>G.minSeekableDuration&&L.length>1&&G.seekable)){if(f=!1,l>0){for(m=l-1;m>=0&&x[0]<L[m].end&&(L[m].forbidden_level||L[m].forbidden_embed);)m--;m>=0&&x[0]<L[m].end&&0===L[m].forbidden_level&&!L[m].forbidden_embed&&(f=m)}if(d=!1,l<L.length-1){for(m=l+1;m<L.length&&x[1]>L[m].begin&&(L[m].forbidden_level||L[m].forbidden_embed);)m++;m<L.length&&x[1]>L[m].begin&&0===L[m].forbidden_level&&!L[m].forbidden_embed&&(d=m)}g=d||f}A={prev:void 0,next:void 0},g?(e.addClass("eump-live1tv-schedule"),H.animationLoaded||(e.elem("live1tv_ctrl_prev").elements[0].load(c.livePrev),e.elem("live1tv_ctrl_next").elements[0].load(c.liveNext),H.animationLoaded=!0),f?(e.elem("live1tv_ctrl_prev").removeClass("eump-control-disabled"),H.canSeekPrev=!0,A.prev={title:e.i18nText(G.labels.prevPos),img_bg:L[f].poster_thumb||L[f].poster,color_bg:L[f].color_scheme?G.colorSchemeColors[L[f].color_scheme]||G.colorSchemeColors.main:G.colorSchemeColors.main,text:L[f].title,cls:"eump-tip-next-prev"}):(e.elem("live1tv_ctrl_prev").addClass("eump-control-disabled"),A.prev={disabled:!0},H.canSeekPrev=!1),d?(e.elem("live1tv_ctrl_next").removeClass("eump-control-disabled"),H.canSeekNext=!0,A.next={title:e.i18nText(G.labels.nextPos),img_bg:L[d].poster_thumb||L[d].poster,color_bg:L[d].color_scheme?G.colorSchemeColors[L[d].color_scheme]||G.colorSchemeColors.main:G.colorSchemeColors.main,text:L[d].title,cls:"eump-tip-next-prev"}):(e.elem("live1tv_ctrl_next").addClass("eump-control-disabled"),A.next={disabled:!0},H.canSeekNext=!1)):e.removeClass("eump-live1tv-schedule"),e.elem("live1tv_ctrl_next")._eump_tip&&A.next&&e.updateTip("live1tv_ctrl_next",A.next),e.elem("live1tv_ctrl_prev")._eump_tip&&A.prev&&e.updateTip("live1tv_ctrl_prev",A.prev)}else e.removeClass("eump-live1tv-active-pos").removeClass("eump-live1tv-schedule");e.title(s?G.titleTemplate.replace("%title%",B):G.defaultTitle),y?(s?s.forbidden_embed?v.enabled&&v.block.forbidden_embed||H.forbiddenMode(!0,{forbidden_embed:!0},!0):!s.rewind_allowed&&Date.now()/1e3>=s.end?v.enabled&&v.block.forbidden_embed||H.forbiddenMode(!0,{forbidden_embed:!0,text:G.labels.forbidden_rewind},!0):v.enabled&&v.block.forbidden_embed&&H.forbiddenMode(!1,{}):v.enabled&&v.block.forbidden_embed&&H.forbiddenMode(!1,{}),v.enabled&&!v.block.poster&&(u="",s&&s.poster&&(u="url('"+s.poster+"')"),e.elem("live1tv_placeholder").css("background-image",u))):s&&s.poster?e.poster(s.poster):e.poster(!1),(n=e.item())&&(s?(n.poster=s.poster,n.poster_thumb=s.poster_thumb):(n.poster=void 0,n.poster_thumb=void 0)),H.triggerPlayerEvent("live1tvposchange",{schedulePosition:s}),y&&q&&e.hasPlugin("com")&&!e.com.block()&&(i=e.item().com)&&i.post&&s&&(k=e.engine())&&k.liveMode&&(j=w().currentTime(),x=w().getSeekWindow(),x[1]>0&&x[1]-j>300&&(void 0===o||o!==s.id)&&e.com.start("mid",i.post,i.post_extra,{translatePosition:"post"}))}return!0}}},B=0,C=null,z=function(a){var b,c;return b=Date.now(),c=b-B,c<50&&a!==C?(B=b,C=a,!0):(B=b,C=a,!1)},y=!1,H.getSeekProxy=w,H.getCurTime=function(){return r},H.setCurTime=function(a){return r=a},H.schedule=function(c){var f,g,i;if(void 0===c)return L;if(c&&h.isArray(c)){for(L=c,f=0,g=L.length;f<g;f++)i=L[f],i.forbidden_level=0,"DENIED"===i.available?i.forbidden_level=2:i.available&&"ALL"!==i.available?new RegExp(a.replace(/ZZ/g,p)).test(i.available)||(i.forbidden_level=1):!i.rewind_allowed&&Date.now()/1e3>i.end&&(i.forbidden_level=3),!d.is("embedded")||e.opts.mobAppEmbed||b.helpers.domainEqual(G.domain||d.param("domain"),G.homeDomains)||("PARTNERS"===i.embed_allowed?i.forbidden_embed=!b.helpers.domainEqual(G.domain||d.param("domain"),G.partnersDomains):i.forbidden_embed="DENIED"===i.embed_allowed);H.triggerPlayerEvent("live1tvschedulechange"),S(!0)}return!0},H.unskippable_adschedule=function(a){return null==a?R:(R=a&&h.isArray(a)?a:[],!0)},H.adschedule=function(a){return void 0===a?m:(m=a&&h.isArray(a)?a:[],!0)},H.sources=function(a,b){var c,d;if(b&&(p=b),a&&a.length&&(c=e.engine(),c&&c.liveMode)){for(d=0;d<a.length&&!c.canPlaySrc(a[d]);)d++;d<a.length&&c.src(a[d],void 0,!0)}return!0},H.restrictions=function(a){return void 0===a?K:void(a&&h.isArray(a)&&(K=a))},H.next=function(a){var b,c,d;if(G.seekable&&(!e.hasPlugin("com")||!e.com.blockStarted())){if(!s||!L||s.index+1>=L.length)return e;if(b=e.engine(),!b)return e;if(d=w().getSeekWindow(),!(d[0]===-1||d[1]===-1||d[1]-d[0]<G.minSeekableDuration)){for(c=s.index+1;c<L.length&&d[1]>L[c].begin&&(L[c].forbidden_level||L[c].forbidden_embed);)c++;return c<L.length&&d[1]>L[c].begin&&0===L[c].forbidden_level&&!L[c].forbidden_embed?H.triggerPlayerEvent("control.live1tvindex",{index:c,play:a}):H.seekTo("now",!0,!0,!0),e}}},H.prev=function(a){var b,c,d;if(!G.seekable||G.singlePosition)return e;if(e.hasPlugin("com")&&e.com.blockStarted())return e;if(!s||!L||s.index<=0)return e;if(b=e.engine(),!b)return e;if(d=w().getSeekWindow(),!(d[0]===-1||d[1]===-1||d[1]-d[0]<G.minSeekableDuration)){for(c=s.index-1;c>=0&&d[0]<L[c].end&&(L[c].forbidden_level||L[c].forbidden_embed);)c--;return c>=0&&d[0]<L[c].end&&0===L[c].forbidden_level&&!L[c].forbidden_embed&&H.triggerPlayerEvent("control.live1tvindex",{index:c,play:a}),e}},H.index=function(a,b){return void 0!==a?G.seekable?(H.triggerPlayerEvent("control.live1tvindex",{index:a,play:b}),e):e:s?s.index:void 0},H.schedulePos=function(a,b){var c;if(!G.seekable)return e;{if(void 0!==a)return L?(c=H.getIndexByPos(a),void 0!==c&&H.triggerPlayerEvent("control.live1tvindex",{index:c,play:b}),e):e;if(s)return s.id}},H.currentSchedulePos=function(){return s},H.getIndexByPos=function(a){var b;if(L){for(b=0,a=parseInt(a);b<L.length&&L[b].id!==a;)b++;return b<L.length?b:void 0}},H.availabilityByPos=function(a){var b;return!!G.seekable&&(b=H.getIndexByPos(a),b?H.availabilityByIndex(b):void 0)},H.availabilityByIndex=function(a){var b,c;return G.seekable?"ready"!==e.itemState?-1:e.hasPlugin("com")&&e.com.blockStarted()?-1:!L||isNaN(a)||a<0||a>=L.length||!L[a]?-1:(b=e.engine())?(c=w().getSeekWindow(),c[0]===-1||c[1]===-1||c[0]>L[a].end||c[1]<L[a].begin||c[1]-c[0]<G.minSeekableDuration?-1:G.singlePosition?s&&s.index===parseInt(a)?L[a].forbidden_level:-1:L[a].forbidden_level):-1:-1},H.availabilityForSchedule=function(){var a,b,c,d;c=[];for(b in L)c.push(-1);if("ready"!==e.itemState)return c;if(!G.seekable)return c;if(e.hasPlugin("com")&&e.com.blockStarted())return c;if(!L)return c;if(a=e.engine(),!a)return c;d=w().getSeekWindow();for(b in L)d[0]===-1||d[1]===-1||d[0]>L[b].end||d[1]<L[b].begin||d[1]-d[0]<G.minSeekableDuration||(G.singlePosition?s&&s.index===parseInt(b)&&(c[b]=L[b].forbidden_level):c[b]=L[b].forbidden_level);return c},H.seekTo=function(a,b,c,d){var f,g,h,i;if(!G.seekable&&!d)return e;if("ready"!==H.readyState)return e;if(e.hasPlugin("com")&&e.com.blockStarted()&&H.triggerPlayerEvent("enginestopall"),f=e.engine(),!f)return e;if("now"===a)i=Date.now()/1e3+G.liveTimeShift;else if("position_begin"===a){if(!s||0!==s.forbidden_level||!s.rewind_allowed)return e;i=s.begin}else i=a;if(G.singlePosition)if(s)i<s.begin&&(i=s.begin);else if("now"!==a)return;return g=w(),h=g.getSeekWindow(),h[1]===-1||h[1]-h[0]<G.minSeekableDuration&&!d?e:(i<h[0]&&(i=h[0]),!c&&i>h[1]&&h[1]!==-1&&(i=h[1]),b===!0&&f.play(),g.currentTime(i),e)},t=function(a,b){var c,d,f,g,h,i,j,k;if(Q.slot(a,b),k=b-a,h="",k<3e4)for(f=e.width()/5,f<200?f=200:f>400&&(f=400),d=f/(e.elem("timeline").width()/k*60),d=d<13?10:d<25?15:d<40?30:60,g=60*d,j=Math.floor(a/g),a%g&&j++,j*=g;j<b;)i=e.formatTime(j,!0),c=(j-a)/k*100,c<=95&&c>=5&&(h+=window.EUMP.res.templates.live1tv_serif.replace("[left]",c+"%").replace("[time]",i.substr(0,i.length-3))),j+=g;return e.elem("live1tv_serifs").empty().html(h)},H.startInject=function(a){var b,c,d,f,g,i;return o.enabled||o.sticker_enabled?(e.echo.warn("Live1TV Inject: already started, unable to proceed"),!1):e.hasPlugin("com")&&e.com.block()?(e.echo.warn("Live1TV Inject: com block started, unable to procceed"),!1):(d=e.engine())?(i=w().currentTime())?(g=w().getSeekWindow(),c=g[1],c<a.begin&&g[2]!==!0?(e.echo.warn("Live1TV Inject: current time out of time slot, unable to proceed"),!1):(o.sticker_enabled=!0,o.sticker_mode="engine",o.start=Math.floor(a.begin||i),o.duration=Math.floor(a.duration),a.end?o.orig_end=Math.ceil(o.end=a.end):o.orig_end=o.end=Math.ceil(o.start+(a.duration||0)),o.duration=Math.ceil(o.end-o.start),g[2]!==!0&&o.end>c&&(o.end=c),o.engine=d,o.current=o.orig_end-i,o.current<0&&(o.current=0),o.current>a.duration&&(o.current=a.duration),o.rt_time=void 0,e.addClass("eump-live1tv-comsticker-enabled"),e.share.windowOpen&&e.share.closeShareWindow(),N(o.current),f=d.getCurrentQuality(),e.hasPlugin("com")&&e.com.enabled()&&(b=e.item().com)&&b.mid&&!h.isEmptyObject(b.mid)&&o.end-o.start>=G.comInject.minBlockDuration&&(!f||f>=G.comInject.limitQuality)&&(!A||Date.now()-A.time>=G.injectBlockSilence)&&e.com.start("mid",b.mid,b.mid_extra,{bumpers:G.bumpers,seekParentOnBlockEnd:!1,deferredPause:!0}),!0)):(e.echo.warn("Live1TV Inject: currentTime is wrong, unable to proceed"),!1):(e.echo.warn("Live1TV Inject: engine not set, unable to procceed"),!1)},N=function(a){return e.elem("live1tv_comsticker").html(e.i18nText(G.labels.comsticker).replace("[time]",e.formatTime(Math.floor(a))))},n=function(b){var c;if(b&&(!v.enabled||!v.block.custom)&&K&&K.length&&!v.block.forbidden_embed){for(c=K.length-1;c>=0&&(isNaN(K[c].begin)||K[c].begin>b);)c--;if(c>=0){if(K[c]!==v.block)return"ALL"===K[c].available?v.enabled?H.forbiddenMode(!1,K[c]):v.block=K[c]:"DENIED"===K[c].available?v.enabled&&"DENIED"===v.block.available?v.block=K[c]:H.forbiddenMode(!0,K[c],!0):new RegExp(a.replace(/ZZ/g,p)).test(K[c].available)?v.enabled?H.forbiddenMode(!1,K[c]):v.block=K[c]:v.enabled&&v.block.available===K[c].available?v.block=K[c]:H.forbiddenMode(!0,K[c],!0)}else if(v.enabled)return H.forbiddenMode(!1)}},H.forbiddenMode=function(a,b,c){var f,g;if(!a!=!v.enabled||c)if(v.block=b||{},c&&(v.enabled=!a),v.enabled){if(v.enabled=!1,e.removeClass("eump-live1tv-forbidden-enabled"),e.volume(v.volume),e.muted(v.muted),e.hasPlugin("quality")&&v.quality&&e.quality.setQuality(v.quality),e.opts.disableRoaming=v.disableRoaming,e.hasPlugin("com")&&v.comEnabled)return e.com.enable()}else if(e.drawCaptions(""),v.disableRoaming=e.opts.disableRoaming,e.opts.disableRoaming=!0,v.volume=e.volume(),v.muted=e.muted(),e.muted(!0),v.enabled=!0,e.hasPlugin("com")?(v.comEnabled=e.com.enabled())&&e.com.disable():v.comEnabled=void 0,o.sticker_enabled=!1,e.removeClass("eump-live1tv-comsticker-enabled eump-com-enabled"),f="",v.block.poster?f="url('"+v.block.poster+"')":s&&s.poster&&(f="url('"+s.poster+"')"),e.elem("live1tv_placeholder").css("background-image",f),e.addClass("eump-live1tv-forbidden-enabled"),e.turnOffForceLoading(),v.block.text?g=v.block.text:s&&s.forbidden_text?g=s.forbidden_text:(g=G.labels.forbidden_denied,v.block&&v.block.available?"DENIED"!==v.block.available&&v.block.available!==p&&(g=G.labels.forbidden_geo):s&&v.block.forbidden_embed?g=G.labels.forbidden_embed:s&&!s.rewind_allowed&&(g=G.labels.forbidden_rewind)),e.elem("live1tv_forbidden").html(e.i18nText(g)),v.enabled&&G.stopOnForbidden&&e.pause(),v.enabled&&e.elem("footer").addClass("eump-control-hide"),e.hasPlugin("quality")&&!G.stopOnForbidden?(v.quality=e.quality.getQuality(),e.quality.setQuality("LQ")):v.quality=void 0,d.is("mobile"))return e.exitFullScreen()},H.handlers={"control.live1tvindex":function(a,b){var c;if(L&&void 0!==b.index&&L[b.index]&&(!G.singlePosition||void 0!==s&&s.index===parseInt(b.index)))return c=b.play,void 0===c&&(c=!0),c&&e.paused()!==!1?e.play():c||e.paused()!==!1||e.pause(),H.seekTo(L[b.index].begin+1),!0},"control.mute":function(a,b){if(v.enabled&&b&&!b.mute)return a.stopImmediatePropagation()},started:function(){if(y=!0,e.opts.safari)return e.turnOffForceLoading()},durationchange:function(){S(!0)},seeked:function(){S(!0)},timeupdate:function(a){var b,c,d;if((!e.hasPlugin("com")||!e.com.block())&&"ready"===e.itemState&&y&&(b=e.engine(),b&&b.liveMode)){if(a.data&&a.data.currentTime?d=a.data.currentTime:b&&(d=w().currentTime()),void 0!==d){if(q(R,d)?(e.addClass("eump-live1tv-comsticker-enabled eump-com-enabled"),e.elem("live1tv_comsticker").html(e.i18nText(G.labels.adsticker)),e.share.windowOpen&&e.share.closeShareWindow(),e.disableSeek()):(o.sticker_enabled&&"engine"===o.sticker_mode||e.removeClass("eump-live1tv-comsticker-enabled eump-com-enabled"),G.seekable&&e.enableSeek(),e.optionsElements().captions&&!H.captionsOn&&e.optionsElements().captions.disable()),!(v.enabled&&v.block.custom||(n(d),v.enabled)))if(o.sticker_enabled&&"engine"===o.sticker_mode)d<o.start||d>=Math.floor(o.orig_end)?(o.sticker_enabled=!1,e.removeClass("eump-live1tv-comsticker-enabled eump-com-enabled")):(o.current=Math.floor(o.orig_end)-d,N(o.current));else if(m&&m.length&&!o.sticker_enabled&&e.paused()===!1){for(c=m.length-1;c>=0&&!(m[c].begin<=Math.floor(d)&&m[c].end>d);)c--;c>=0&&H.startInject({duration:m[c].duration,begin:m[c].begin,end:m[c].end})}s&&(s.begin>d||s.end<d)?S():s||S(!1,!0)}return!0}},playing:function(a){if(!e.hasPlugin("com")||!e.com.block())return!G.seekable&&Q.enabled()&&Q.disable(),v.enabled&&G.stopOnForbidden&&e.pause(),s?(t(s.begin-P,s.end-P),e.addClass("eump-live1tv-active-pos")):e.removeClass("eump-live1tv-active-pos"),S(!0),e.opts.safari&&e.turnOffForceLoading(),!0},"control.seek":function(a,b){var c;return c=e.engine(),c&&c.liveMode&&(a.data.time+=P),!0},"control.comstart":function(a,b){var c,d,f,g,h,i;if(c=e.com.block(),o.enabled&&(d=e.com.creative(),f=d.duration,i=o.orig_end,e.com.block().src_changed||(h=o.engine.getSeekWindow(),h[2]!==!0&&(h[1]<=0?i=0:h[1]<=i&&(o.end=i=h[1]))),g=o.current-(Date.now()-o.rt_time)/1e3-(o.duration-(i-o.start)),g<f+G.comInject.creativeDurationDelta))return a.stopImmediatePropagation(),H.triggerPlayerEvent("control.comblockend",{uid:c.uid})},"control.comnext":function(a,b){var c,d,f;if(o.enabled&&(f=o.orig_end,e.com.block().src_changed||(d=o.engine.getSeekWindow(),d[2]!==!0&&(d[1]<=0?f=0:d[1]<=f&&(o.end=f=d[1]))),c=o.current-(Date.now()-o.rt_time)/1e3-(o.duration-(f-o.start)),c<G.comInject.creativeDurationDelta))return a.stopImmediatePropagation(),e.trigger("control.comblockend",{play:!0,uid:b.uid})},"control.drawcaptions":function(a){if(v.enabled)return a.stopImmediatePropagation()},comblockstarted:function(a,b){var c;if(y=!0,c=e.engine(),c&&c.liveMode)return!o.enabled&&o.sticker_enabled&&"mid"===b.position?(o.enabled=!0,o.rt_time=Date.now(),o.currentTime=w().currentTime(),o.sticker_mode="rt",o.current||(o.current=o.duration-(o.start-w().currentTime())),e.addClass("eump-live1tv-cominject eump-com-enabled")):e.removeClass("eump-live1tv-cominject"),e.hasPlugin("remote")&&e.remote.enabled()?(e.remote.sendHandlers.dvravailabilitychange(),e.remote.sendHandlers.dvrwindowchange()):void 0},comblockended:function(a){var b,c;return"pre"===a.data.position&&(G.startTime?H.seekTo(G.statTime,!0,!0,!0):H.seekTo("now",!0,!0,!0)),o.enabled&&(o.sticker_enabled&&(o.sticker_mode="engine"),e.removeClass("eump-live1tv-cominject"),A={time:Date.now()},o.rt_time&&(b=(Date.now()-o.rt_time)/1e3,c=o.currentTime+b,c>o.end&&(c=o.end),a&&a.data.played&&a.data.played.total&&e.setTimeout(function(){return H.seekTo(c+.2,void 0,void 0,!0)},200)),o.enabled=!1),e.hasPlugin("remote")&&e.remote.enabled()&&(e.remote.sendHandlers.dvravailabilitychange(),e.remote.sendHandlers.dvrwindowchange()),S(!0)},sizechange:function(){if((!e.hasPlugin("com")||!e.com.block())&&s)return t(s.begin-P,s.end-P)},error:function(a,b){return y=!0,e.removeClass("eump-live1tv-comsticker-enabled eump-com-enabled")},"control.dbltap":function(a,b){var c,d;if(b.currentTapPart&&"center"!==b.currentTapPart&&(a.preventDefault(),a.stopImmediatePropagation(),!(void 0===e.itemState||"init"===e.itemState||e.hasPlugin("com")&&e.com.blockStarted()||e.hasClass("eump-com-enabled"))&&(c=e.currentTime(),void 0!==c)))return d=!1,"right"===b.currentTapPart&&(d=10),"left"===b.currentTapPart&&(d=-10),d?(c+=d,e.live1tv.seekTo(c,!0,!0,!0),e.toggleRewindAnimation(b.currentTapPart)):void 0},"control.keypress":function(a,b){var c,d;if(b&&b.keyCode&&([35,36,37,39].indexOf(b.keyCode)!==-1||b.keyCode>=48&&b.keyCode<=57)&&a.stopImmediatePropagation(),37===b.keyCode||39===b.keyCode){if(void 0===e.itemState||"init"===e.itemState||e.hasPlugin("com")&&e.com.blockStarted()||e.hasClass("eump-com-enabled"))return;if(c=e.currentTime(),void 0===c)return;return d=G.liveRewindSpeed,b.ctrlKey&&(d*=2),37===b.keyCode?c-=d:c+=d,e.live1tv.seekTo(c,!0,!0,!0)}}},I=["live1tv_ctrl_next","live1tv_ctrl_now","live1tv_ctrl_now_lottie","live1tv_ctrl_now_text","live1tv_ctrl_now_small","live1tv_ctrl_prev","live1tv_comsticker","live1tv_placeholder","live1tv_forbidden","live1tv_serifs"],x=0,D=I.length;x<D;x++){if(E=I[x],!G.resources[E])throw'LIVE1TV: Unable to create element "'+E+'"';e.addResource(E,G.resources[E])}return F="started comblockstarted comblockended playing seeked durationchange sizechange",u="timeupdate control",e.live1tv=H,M=void 0,i=null,H.destroy=function(a){return e.handlers.timeupdateredraw=i,H.readyState="destroyed",M&&e.clearTimeout(M),e.live1tv=void 0,J&&e.off("live1tvposchange",J),a||e.off(F,H.triggerDefault),a||e.off(u,H.triggerDefault),!0},J=void 0,e.ready(function(){var a,b,c;return c=Math.floor(Date.now()/1e3),n(c),i=e.handlers.timeupdateredraw,e.handlers.timeupdateredraw=function(a,b){return b=b||{},b.currentTime=w().currentTime(),i.call(e,a,b)},e.addClass("eump-live1tv-enabled"),Q=e.elem("timeline").slider,e.on(F,H.triggerDefault),e.bind(u,H.triggerDefault,!1,!0),e.elem("live1tv_ctrl_prev").click(function(){if(H.prev(),H.canSeekPrev)return e.elem("live1tv_ctrl_prev").elements[0].getLottie().playSegments([0,58],!0)}),e.elem("live1tv_ctrl_next").click(function(){if(H.next(),H.canSeekNext)return e.elem("live1tv_ctrl_next").elements[0].getLottie().playSegments([0,58],!0)}),e.elem("live1tv_ctrl_now_lottie").elements[0].load(window.EUMP.res.animation.liveNow),e.elem("live1tv_ctrl_now").on("mouseenter",function(){if(e.elem("live1tv_ctrl_now_lottie").elements[0].getLottie().playSegments([0,35],!0),!z("tip-show"))return e.tip.show(e.elem("live1tv_ctrl_now"),{cls:"eump-tip-no-pointer-events"})}),e.elem("live1tv_ctrl_now").on("mouseleave",function(){return z("tip-hide")||e.tip.hide(e.elem("live1tv_ctrl_now")),e.elem("live1tv_ctrl_now_lottie").elements[0].getLottie().stop()}),e.elem("live1tv_ctrl_now_small").on("mouseenter",function(){if(!z("tip-show"))return e.tip.show(e.elem("live1tv_ctrl_now_small"),{cls:"eump-tip-no-pointer-events"})}),e.elem("live1tv_ctrl_now").on("mouseleave",function(){if(!z("tip-hide"))return e.tip.hide(e.elem("live1tv_ctrl_now_small"))}),e.elem("live1tv_ctrl_now").click(function(){return H.seekTo("now",!0,!0,!0)}),e.elem("live1tv_ctrl_now_small").click(function(){return H.seekTo("now",!0,!0,!0)}),window.EUMP.device.is("touchable")||(e.attachTip("live1tv_ctrl_prev",{disabled:!0}),e.attachTip("live1tv_ctrl_next",{disabled:!0}),e.attachTip("live1tv_ctrl_now",{disabled:!0,noevents:!0},!0),e.attachTip("live1tv_ctrl_now_small",{disabled:!0,noevents:!0},!0)),a=e.elem("buffered"),b=function(){var a;return y&&!(e.hasPlugin("com")&&e.com.block())&&(a=e.engine())&&a.liveMode&&!v.enabled&&s&&!s.allow_rewind&&G.seekable},e.hasPlugin("remote")&&e.remote.enabled()&&(e.remote.sendHandlers.dvrwindowchange=function(){var a;return a=[-1,-1],b()&&(a=w().getSeekWindow(),G.singlePosition&&(s?a[0]<s.begin&&(a[0]=s.begin):a=[-1,-1])),e.remote.sendMessage("dvrwindowchange",{begin_at:a[0],end_at:a[1]})},e.remote.sendHandlers.dvrpositionchange=function(){var a;return a=s?{begin_at:s.begin,end_at:s.end,title:s.title,forbidden_level:s.forbidden_level,poster:s.poster,poster_thumb:s.poster_thumb,rewind_allowed:s.rewind_allowed,id:s.id}:void 0,e.remote.sendMessage("dvrpositionchange",a||{})},e.remote.sendHandlers.dvravailabilitychange=function(){var a,c;return a=!1,b()&&(c=w().getSeekWindow(),a=c[0]!==-1&&c[1]-c[0]>G.minSeekableDuration),e.remote.sendHandlers.seekallowedchange(a),e.remote.sendMessage("dvravailabilitychange",{available:a})},e.remote.receiveHandlers._settime=e.remote.receiveHandlers.settime,e.remote.receiveHandlers.settime=function(a){if(b())return H.seekTo(a)},e.remote.receiveHandlers.setlive1tvstarttime=function(a){return r=a.timestampSec,S(!0)},e.remote.receiveHandlers.getdvravailability=function(){return e.remote.sendHandlers.dvravailabilitychange()},e.remote.receiveHandlers.getdvrwindow=function(){return e.remote.sendHandlers.dvrwindowchange()},e.remote.receiveHandlers.getdvrposition=function(){return e.remote.sendHandlers.dvrpositionchange()},J=function(){return e.remote.sendHandlers.dvrwindowchange(),e.remote.sendHandlers.dvravailabilitychange(),e.remote.sendHandlers.dvrpositionchange()},e.on("live1tvposchange",J)),e.setInterval(function(){var b,d,f,g,h;return g=Date.now(),c=g/1e3,e.hasPlugin("com")&&e.com.block()||(f=e.engine(),f&&f.liveMode&&(s?s.end>c?(h=(c-s.begin)/(s.end-s.begin),h>.98&&(h=1),a.translateX((100*(h-1)).toFixed(1)+"%")):s.begin>c?a.translateX("-100%"):a.translateX("0"):a.translateX("0"),w().getSeekWindow()[1]!==-1?(b=w().currentTime(),e.elem("live1tv_ctrl_now")._eump_tip&&e.updateTip("live1tv_ctrl_now",{disabled:!1,text:e.i18nText(G.labels.moveToLive)}),e.elem("live1tv_ctrl_now_small")._eump_tip&&e.updateTip("live1tv_ctrl_now_small",{disabled:!1,text:e.i18nText(G.labels.moveToLive)}),c-b>120?(e.elem("live1tv_ctrl_now_lottie").elements[0].load(window.EUMP.res.animation.liveReturn),e.elem("live1tv_ctrl_now_small").removeClass("active"),e.elem("live1tv_ctrl_now_small").addClass("not-active"),e.elem("live1tv_ctrl_now")._eump_tip&&e.updateTip("live1tv_ctrl_now",{disabled:!1,text:e.i18nText(G.labels.returnToLive)}),e.elem("live1tv_ctrl_now_small")._eump_tip&&e.updateTip("live1tv_ctrl_now_small",{disabled:!1,text:e.i18nText(G.labels.returnToLive)})):(e.elem("live1tv_ctrl_now_lottie").elements[0].load(window.EUMP.res.animation.liveNow),e.elem("live1tv_ctrl_now_small").addClass("active"),e.elem("live1tv_ctrl_now_small").removeClass("not-active"),e.elem("live1tv_ctrl_now")._eump_tip&&e.updateTip("live1tv_ctrl_now",{disabled:!1,text:e.i18nText(G.labels.moveToLive)}),e.elem("live1tv_ctrl_now_small")._eump_tip&&e.updateTip("live1tv_ctrl_now_small",{disabled:!1,text:e.i18nText(G.labels.moveToLive)}))):(e.elem("live1tv_ctrl_now_lottie").elements[0].load(window.EUMP.res.animation.liveNow),e.elem("live1tv_ctrl_now_small").addClass("active"),e.elem("live1tv_ctrl_now_small").removeClass("not-active")))),o.sticker_enabled&&"rt"===o.sticker_mode&&(o.rt_time||(o.rt_time=g),d=o.current-(g-o.rt_time)/1e3,d<=0?e.removeClass("eump-live1tv-comsticker-enabled eump-com-enabled"):N(d)),!0},1e3),H.readyState="ready",!0}),H},b=window.EUMP,window.EUMP.plugins.remotelive1tv=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return q={hasInteractive:!1,isMobileApp:!!a.opts.mobAppEmbed,enabled:!0,allowDomains:["*.1tv.ru","*.teletarget.ru"],
    interactiveOrigin:"*",embedUID:null!=(s=a.remote.opts)?s.embedUID:void 0},r=new window.EUMP.proto.Plugin("remotelive1tv",a,q),d=a._,c&&d.extend(q,c),g=!1,l=!1,x=void 0,j=a.elem("ctrl_fullScreen").elements[0],y=function(b){var c,d;d=window.parent.document.fullscreenElement&&null!==window.parent.document.fullscreenElement||window.parent.document.webkitFullscreenElement&&null!==window.parent.document.webkitFullscreenElement||window.parent.document.mozFullScreenElement&&null!==window.parent.document.mozFullScreenElement||window.parent.document.msFullscreenElement&&null!==window.parent.document.msFullscreenElement,c=a.elem("ctrl_fullScreen"),d?(window.parent.document.exitFullscreen?window.parent.document.exitFullscreen():window.parent.document.webkitExitFullscreen?window.parent.document.webkitExitFullscreen():window.parent.document.mozCancelFullScreen?window.parent.document.mozCancelFullScreen():window.parent.document.msExitFullscreen&&window.parent.document.msExitFullscreen(),c._eump_tip&&a.updateTip(c,{text:a.i18nText(a.opts.labels.tip_fullScreen)}),a.removeClass("eump-fullscreen"),a.elem("ctrl_fullScreen").elements[0].load(window.EUMP.res.animation.fullscreenOff)):(b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullScreen?b.webkitRequestFullScreen():b.msRequestFullscreen&&b.msRequestFullscreen(),c._eump_tip&&a.updateTip(c,{text:a.i18nText(a.opts.labels.tip_window)}),a.addClass("eump-fullscreen"),a.elem("ctrl_fullScreen").elements[0].load(window.EUMP.res.animation.fullscreenOn))},t=function(a,b){return b=b||{},b.type=a,q.embedUID&&(b.embed_id=q.embedUID),window.parent.postMessage(JSON.stringify(b),q.interactiveOrigin)},o={keydown:function(a){var b;if(70===a.keyCode&&(b=window.parent.document.getElementById("content")))return y(b)},setTitle:function(b){return a.title(b)},setPoster:function(b){return a.poster(b)}},p=function(a){var b,c,d,e;if(q.enabled&&a&&a.data){if(c=a.data,"string"==typeof c)try{c=JSON.parse(c),"object"!=typeof c&&(c=void 0)}catch(a){d=a}void 0!==c&&null!=c.method&&null!=o[c.method]&&(e=o[c.method],b=c.args||[],e.call(this,b))}},v=function(b){if(l!==b)return l=b,a.remote.send("ineractivemodechange")},w=function(b){var c;if(g!==b&&(l!==!1||b!==!0))return g=b,a.remote.send("ineractivemodechange"),c=g?"ottInteractiveModeEnable":"ottInteractiveModeDisable",t(c)},f=function(a){var b,c;if(q.hasInteractive)return c=Date.now()/1e3,(b=c<=a.end&&c>=a.begin)?(v(!0),w(!0),u()):(v(!1),w(!1),void u())},m=function(){var b;return!(!a.hasPlugin("com")||!a.com.enabled())&&(b=a.item().com,!(!b||void 0===b.pre||b.pre.length<=0))},u=function(b){return function(){if(x&&a.clearInterval(x),q.hasInteractive&&g)return x=a.setInterval(function(){var b;if(!(a.paused()||a.forcedLoadingActive||a.hasPlugin("com")&&a.com.block()))return b=a.currentTime(),"undefined"!=typeof b?t("time",{time:b}):void 0},1e3)}}(this),e=!1,h=function(b){if(!e){switch(b.origType){case"started":m()||(e=!0);break;case"control.comblockend":e=!0}return e?a.remote.send("broadcaststarted"):void 0}},n=void 0,r.handlers={beforeFullscreen:function(){var c;if(q.hasInteractive&&(c=window.parent.document.getElementById("content"),c&&g&&(q.isMobileApp||"iOS"!==b.device.param("os").name)))return a.trigger("setRejectFullscreenStatus",{value:!0}),a.opts.mobAppEmbedOpts&&a.opts.mobAppEmbedOpts.OS.indexOf("iOS")!==-1?void t("toggleiosinteractivefullscreen",{event:"toggleiosinteractivefullscreen",remote_msg_1tv:!0}):void y(c)},live1tvposchange:function(b){var c,d;if(q.enabled)return a.remote.send("positionchange"),d=b.data.schedulePosition,d&&(c=d.id!==n)?(n=d.id,f(d)):void 0},live1tvschedulechange:function(){if(q.enabled)return a.remote.send("schedulechange"),a.remote.send("scheduleavailabilitychange")},started:function(b){if(q.enabled)return h(b),a.remote.send("scheduleavailabilitychange")},comblockstarted:function(){if(q.enabled)return a.remote.send("scheduleavailabilitychange"),q.hasInteractive?t("adStart"):void 0},"control.comblockend":function(a){return h(a)},comblockended:function(){if(q.enabled)return a.remote.send("scheduleavailabilitychange"),q.hasInteractive?t("adEnd"):void 0},playerclose:function(){return t("playerclose",{event:"playerclose",remote_msg_1tv:!0})},error:function(){if(q.enabled)return a.remote.send("scheduleavailabilitychange")}},b.device.is("embedded")?b.helpers.domainEqual(b.device.param("domain"),q.allowDomains)||a.opts.mobAppEmbed?a.hasPlugin("remote")?a.hasPlugin("live1tv")?(k=function(){var b,c,d,e;if(d=a.remote.sendHandlers,d.broadcaststarted=function(){return a.remote.sendMessage("broadcaststarted")},d.schedulechange=function(){if(q.enabled)return a.remote.sendMessage("schedulechange",{schedule:a.live1tv.schedule()||[]})},d.scheduleavailabilitychange=function(){if(q.enabled)return a.remote.sendMessage("scheduleavailabilitychange",{scheduleAavailability:a.live1tv.availabilityForSchedule()||[]})},d.positionchange=function(){var b;if(q.enabled)return b=a.live1tv.currentSchedulePos(),a.remote.sendMessage("positionchange",{index:a.live1tv.index(),position:b})},d.ineractivemodechange=function(){if(q.enabled)return q.hasInteractive?a.remote.sendMessage("ineractivemodechange",{interactiveModeAvailable:l,interactiveModeEnabled:g}):void a.remote.sendMessage("ineractivemodechange",{interactiveModeAvailable:!1,interactiveModeEnabled:!1})},c=a.remote.receiveHandlers,c.getschedule=function(){return a.remote.send("schedulechange")},c.getscheduleavailability=function(){return a.remote.send("scheduleavailabilitychange")},c.getposition=function(){return a.remote.send("positionchange")},e=c.settime,c.settime=function(b){var c,d;return q.enabled&&(null!=b?b.time:void 0)?(c=null!=(d=a.engine())?!d.paused():!0,a.live1tv.setCurTime(b.time),a.live1tv.seekTo(b.time,c)):e(b)},c.comblockstart=function(b){if(q.enabled)return!!(a.hasPlugin("com")&&a.com.enabled()&&b&&b.position&&b.creatives)&&a.com.triggerPlayerEvent("control.comblockstart",{position:b.position,creatives:b.creatives,extraCreatives:b.extraCreatives,play:!0,skipCheckIntervals:void 0!==b.skipCheckIntervals?b.skipCheckIntervals:void 0})},c.setposition=function(b){var c;if(q.enabled)return b&&b.index?(c=parseInt(b.index),a.live1tv.index(c)):void a.echo.warn("REMOTELIVE1TV: no index pointed on setPosition")},c.setinteractivemode=function(b){var c;if(q.enabled)return b&&"undefined"!=typeof b.interactiveModeEnabled?(c=!!b.interactiveModeEnabled,w(c)):void a.echo.warn("REMOTELIVE1TV: no interactiveModeEnabled pointed on setInteractiveMode")},b="fullscreenchange",a.opts.safari&&(b="webkit"+b),q.hasInteractive)return window.parent.document.addEventListener(b,function(b){var c;if(!(window.parent.document.fullscreenElement&&null!==window.parent.document.fullscreenElement||window.parent.document.webkitFullscreenElement&&null!==window.parent.document.webkitFullscreenElement||window.parent.document.mozFullScreenElement&&null!==window.parent.document.mozFullScreenElement||window.parent.document.msFullscreenElement&&null!==window.parent.document.msFullscreenElement)&&(c=a.elem("ctrl_fullScreen"),c.elements[0].load(window.EUMP.res.animation.fullscreenOff),a.removeClass("eump-fullscreen"),c._eump_tip))return a.updateTip(c,{text:a.i18nText(a.opts.labels.tip_fullScreen)})})},i="beforeFullscreen dblclick live1tvposchange live1tvschedulechange started comblockstarted comblockended error control playerclose",a.on(i,r.triggerDefault),d.window.on("message",p),a.ready(k)):(a.echo.error('REMOTELIVE1TV: plugin "live1tv" should be declared first'),q.enabled=!1):(a.echo.error('REMOTELIVE1TV: plugin "remote" should be declared first'),q.enabled=!1):(a.echo.error("REMOTELIVE1TV: domain is not allowed"),q.enabled=!1):(a.echo.error("REMOTELIVE1TV: player is not embedded"),q.enabled=!1),r},l=function(){function a(a,b,c){null==b&&(b={}),this.country=void 0,this.sources=void 0,this.parse(a,b,c)}return a.prototype.parse=function(a,b,c){return this.country=this.parseCountry(a),this.sources=this.parseSources(a,b,c)},a.prototype.parseCountry=function(a){if(a.country)return a.country||"ZZ"},a.prototype.parseSources=function(a,b,c){var d,f,g,h,i,j,k,l,m;if(l=this.initSrcTypes(b,c),!a.sources)return this.parseLegacySources(l,a,b,c);for(j=[],f=0,i=l.length;f<i;f++)if(h=l[f],m=h.type,d=a.sources[m]||a.sources[m+"_urls"],d&&("string"==typeof d||c.isArray(d)&&d.length)&&(k=h.src,k.src=c.copy(d),k.id=m,k.src.length)){if(b.addParams[m])for(g in k.src)k.src[g]=e.addURLParams(k.src[g],b.addParams[m],!0);if(["hls","hlsp"].indexOf(m)>-1)for(g in k.src)"https:"===window.location.protocol&&(k.src[g]=k.src[g].replace(/^http:/,"https:"));b.api.drm&&b.api.drm[m]&&(k.drm=b.api.drm[m]),j.push(k)}return j},a.prototype.initSrcTypes=function(a,b){var c,d,e,f,g;for(f=[],e=a.srcOrder,c=0,d=e.length;c<d;c++)g=e[c],a.srcTypes[g]?f.push({type:g,src:b.copy(a.srcTypes[g])}):console.warn("Starter: no src '"+s+"' found");return f},a.prototype.parseLegacySources=function(a,b,c,d){var f,g,h,i,j,k,l,m,n;for(l=[],g=0,j=a.length;g<j;g++)if(i=a[g],n=i.type,f=b[n],f&&("string"==typeof f||d.isArray(f)&&f.length)&&(m=i.src,m.src=d.copy(b[n]),m.id=n,m.src.length)){if(c.addParams[n])for(h in m.src)m.src[h]=e.addURLParams(m.src[h],c.addParams[n],!0);if(["hls","hlsp"].indexOf(n)>-1)for(h in m.src)"https:"===window.location.protocol&&(m.src[h]=m.src[h].replace(/^http:/,"https:"));(null!=(k=c.api.drm)?k[n]:void 0)&&(m.drm=c.api.drm[n]),l.push(m)}return l},a}(),h=function(a){return 0===a.indexOf("https://mobdrm.")||0===a.indexOf("http://mobdrm.")},m=function(a,b){var c,d,f,g,h,i,j,k,l,m;for(k=[],c=0,f=a.length;c<f;c++)if(l=a[c],["hls","hlsp"].indexOf(l.id)!==-1){for(i=[],j=l.src,d=0,g=j.length;d<g;d++)m=j[d],h=e.addURLParams(m,"s="+b),i.push(h);k.push(l.src=i)}return k},d=window.EUMP.device,e=window.EUMP.helpers,p={error_sources_load:"Error loading stream sources",error_proxy_is_using:"Для вашего региона просмотр недоступен",error_restrictions_load:"Data loading error",error_protection_key:"Protection key error",error_domain:"Domain is not allowed",loc_error:"Location error",error_os:"К сожалению, ваша операционная система не поддерживается. Для просмотра необходима версия Windows от 7 и выше"},n="ДЛЯ ВАШЕГО РЕГИОНА ПРОСМОТР НЕДОСТУПЕН",o={US:"ДЛЯ ВАШЕГО РЕГИОНА ПРОСМОТР НЕДОСТУПЕН<br/><br/>STREAM IS NOT AVAILABLE IN YOUR REGION"},r=function(a){return a.replace(/^https?:/,"")},window.initEUMP1TVlive=function(a,c,f){var g,i,j,k,n,q,s,u,v,w,x,y;if(n=void 0,!window.EUMP||!window.EUMP.player)throw"Failed to init EUMP1TVlive: No EUMP player found";if(!window.EUMP.fw.queryParam("__noinit"))return u={start:void 0,mobileAutoStart:!1,detectAdBlock:!0,skipAutoStartOnAdBlock:!0,feedback_url:"https://www.1tv.ru/about/contacts/pleer-feedback?type=live&player=%player%&playerver=%playerver%&engine=%engine%&location=%location%&error=%error%&src=%src%",api:{sources:void 0,sources_long:void 0,adverts:void 0,schedule:void 0,restrictions:void 0,adschedule:void 0,unskippable_adschedule:void 0,bumpers:void 0,protectionKey:void 0,proxy:void 0},intervals:{sources:144e5,schedule:6e5,restrictions:3e5,adschedule:2e4,unskippable_adschedule:2e4,protectionKey:36e5},timeouts:{sources:2e4,schedule:1e4,restrictions:1e4,adschedule:3e3,unskippable_adschedule:3e3,adverts:5e3,bumpers:3e3,protectionKey:2e4},addParams:{},tryCookieProtectionKey:!0,protectionKey:void 0,comTabletAsDesktop:!0,advertsMobileParam:"type=mobile",forceAdsShowParams:"pk=imhotest&pke=1",seekable:void 0,singlePosition:void 0,provider:void 0,allowApiKeyRequest:!0,srcTypes:{mpdp:{type:"application/mpd+mp4",live:!0},hlsp:{type:"application/x-mpegURL",live:!0},mpd:{type:"application/mpd+mp4",live:!0},hls:{type:"application/x-mpegURL",live:!0},hds:{type:"video/x-hds-live",live:!0,captions:!0}},srcOrder:["mpd","hls"],playerOpts:{playerType:"live"},defaultTNSHeartBeat:void 0,useDefaultCountryRestrictions:!0,useSourceSwitcher:!0,allowMutedAutoStart:!1,enableInjectOnMobile:!1,hlsLongSourceSwitchEnabled:!1},x={country:"ZZ",sources:void 0,restrictions:void 0},g=window.EUMP.fw,void 0!==window.EUMPConfigLiveStarter&&g.extend(u,window.EUMPConfigLiveStarter),void 0!==window.EUMP.configLiveStarter&&g.extend(u,window.EUMP.configLiveStarter),void 0!==c&&g.extend(u,c),"auto"!==u.start||d.api("page").visible()||(u.start="visible"),u.playerOpts.start=u.start,"auto"===u.start&&(v=!0),void 0===v&&u.domainsAutoStart&&(v=e.domainEqual(d.param("domain"),u.domainsAutoStart)),u.allowMutedAutoStart&&(g.extend(u.playerOpts,{pluginsOpts:{remote:{}}}),u.playerOpts.pluginsOpts.remote.allowMutedAutoStart=u.allowMutedAutoStart),v||"visible"!==u.start||g.extend(u,{playerOpts:{checkPlayerVisibility:!0}}),g.extend(u.playerOpts,{pluginsOpts:{live1tv:{}}}),void 0!==u.seekable&&(u.playerOpts.pluginsOpts.live1tv.seekable=u.seekable),void 0!==u.singlePosition&&(u.playerOpts.pluginsOpts.live1tv.singlePosition=u.singlePosition),k=void 0,void 0===u.playerOpts.pluginsOpts.live1tv.bumpers&&(u.playerOpts.pluginsOpts.live1tv.bumpers=function(a,b){var c;return n.com.opts.bumpers&&(n.com.opts.bumpers.all||n.com.opts.bumpers[a.position])?(b(n.com.opts.bumpers[a.position]||n.com.opts.bumpers.all),!0):"mid"===a.position?(u.api.bumpers||(k=!1),void 0!==k?b(k&&k.length?{start:k[Math.floor(Math.random()*k.length)]}:k):(k=!1,c=s(c,u.api.bumpers),g.ajax(c.url,{type:c.type,timeout:u.timeouts.bumpers},function(a,c){var d,e;return a?b(k):(d=c.duration||5,e=c.type||"bumper",k=[],c.sources.forEach(function(a){return"string"==typeof a&&(a={src:a,type:e,duration:d}),k.push(a)}),b({start:k[Math.floor(Math.random()*k.length)]}))}))):b(void 0)}),q=function(){var a,c;return c=d.param("userAgent"),a=b.storage.getCookie("Monitorbot"),!(!a||"string"!=typeof a||a.indexOf("true")===-1)||c&&"string"==typeof c&&c.indexOf("Monitorbot")!==-1},i=function(a){var b;return u.forceAdsShowParams&&a.match(/^((http|https):)?\/\/([a-z0-9\-].)?adfox.ru\//i)?(b=a.indexOf("?")!==-1?"&":"?",""+a+b+u.forceAdsShowParams):a},y=function(a){var b,c,d,e,f;if(!q())return a;for(d in a)for(f=a[d],b=0,e=f.length;b<e;b++)c=f[b],null==c.vast&&next,c.vast=i(c.vast);return a},s=function(a,b){return void 0===a&&(a=b),a="string"==typeof a?{url:a}:window.EUMP.fw.copy(a),void 0===a.type&&(a.type="jsonp"),a.url&&(a.url=a.url.replace("[random]",Math.floor(1e7*Math.random()+1e6))),a},j={adverts:function(a){var b,c,d,e;return d=s(d,u.api.forced_adverts),b=s(b,u.api.adverts),c=function(b){if("plain_json"===b.type)return x.adverts=b.json,b.json?(a&&a(!1,x.adverts),!0):(a&&a("No plain JSON found"),!1)},e=function(d,f){return c(d),f&&(d.url=""+d.advert_api_url+(d.advert_api_url.indexOf("?")===-1?"?":"&")+"path="+d.path),g.ajax(d.url,{type:d.type,timeout:u.timeouts.adverts},function(c,d){var h,i;if(f&&c||f&&g.isEmptyObject(d)||f&&Array.isArray(d))return n.echo.warn("starter-live > error when setting the forced advert data. Start setting the standard advert"),e(b);if(c)a&&a(c);else{if(x.adverts={},d)if(void 0!==d.playlist){i=d.playlist.item;for(h in i)t.call(i,h)&&(x.adverts[h.replace("roll","").replace("ar_","")]=d.playlist.item[h].split(","))}else for(h in d)t.call(d,h)&&(x.adverts[h.replace("roll","")]=d[h]);x.adverts=y(x.adverts),a(!1,x.adverts)}return!0})},d&&d.advert_api_url&&d.path?(n.echo.log("starter-live > detected forced_ads"),e(d,!0)):e(b),!0},protectionKey:function(a,b){var c,d,e;return b=s(b,u.api.protectionKey),e=function(){return g.ajax(b.url||"//stream.1tv.ru/get_hls_session",{timeout:u.timeouts.protectionKey,type:"jsonp"},function(b,c){if(!b&&c&&c.s){if(u.protectionKey=c.s,a)return a()}else if(a)return a("error loading key with api")})},"img"===b.type||"iframe"===b.type?(d=g.create(b.type,{css:{width:0,height:0,position:"absolute",left:"-1px"}}),c={load:function(){var b;return b=window.EUMP.storage.getCookie("s"),b?(u.protectionKey=encodeURIComponent(b),a&&a()):u.allowApiKeyRequest?e():a&&a("key not defined"),d.remove()},error:function(){return u.allowApiKeyRequest?e():a("error loading url"),d.remove()}},d.on("load",c.load),d.on("error",c.error),d.attr("src",b.url),d.appendTo(g.body)):"api"===b.type?e():a("unkown type"),!0},sources:function(a,b){var c,d,f;return b=s(b,u.api.sources),"plain_json"===b.type?(x.sources=b.json||{},void(b.json?a&&a(!1,x.sources):a&&a("No plain JSON found"))):(u.provider&&(b.url=e.addURLParams(b.url,"loc",u.provider)),f=b.url,d={type:b.type,timeout:u.timeouts.sources},c=function(b,c){var d;return b?(a(b),!0):(d=new l(c,u,g),x.country=d.country,x.sources=d.sources,a(!1,x.sources),!0)},g.ajax(f,d,c),!0)},sources_long:function(a){var b,c,d,f,h,i;return b=function(a,b){var c,d,e,f;if(0!==b.length){for(f=[],c=0,d=b.length;c<d;c++)e=b[c],f.push(a.push(e));return f}},h=s(h,u.api.sources_long),"plain_json"===h.type?(d=h.json||{},h.json&&b(x.sources,d),void("function"==typeof a&&a())):(u.provider&&(h.url=e.addURLParams(h.url,"loc",u.provider)),i=h.url,f={type:h.type,timeout:u.timeouts.sources},c=function(c,e){var f;if(!c)return f=new l(e,u,g),d=f.sources,b(x.sources,d),"function"==typeof a&&a(),!0},g.ajax(i,f,c))},restrictions:function(a,b){return b=s(b,u.api.restrictions),"plain_json"===b.type?(x.restrictions=b.json||{},void(b.json?a&&a(!1,x.restrictions):a&&a("No plain JSON found"))):(g.ajax(b.url,{type:b.type,timeout:u.timeouts.restrictions},function(b,c){var d,e,f,g,h,i,j;if(b)a&&a(b);else{if(c.geo)for(x.restrictions=[],i=c.geo,d=0,f=i.length;d<f;d++)h=i[d],x.restrictions.push({begin:h.time,available:h.geo});else if(x.restrictions=c.restrictions,x.restrictions&&x.restrictions.length)for(j=x.restrictions,e=0,g=j.length;e<g;e++)h=j[e],void 0===h.begin&&(h.begin=h.begin_at);else x.restrictions=[];a&&a(!1,x.restrictions)}return!0}),!0)},schedule:function(a,b){return b=s(b,u.api.schedule),"plain_json"===b.type?(x.schedule=b.json||{},void(b.json?a&&a(!1,x.schedule):a&&a("No plain JSON found"))):(g.ajax(b.url,{type:b.type,timeout:u.timeouts.schedule},function(b,c){var d,e,f;if(b)a&&a(b);else{if(c.channel&&(c.schedule=c.channel.schedule.program),c.schedule)for(d in c.schedule)d=parseInt(d),e=c.schedule[d],(e.poster||e.poster_url)&&(e.poster=r(e.poster||e.poster_url)),(e.poster_thumb||e.poster_thumb_url)&&(e.poster_thumb=r(e.poster_thumb||e.poster_thumb_url)),e.geo_limits&&(e.available=e.geo_limits),f=e.begin||e.begin_at,isNaN(f)&&(f=new Date(f).getTime(),isNaN(f)||(f/=1e3)),e.begin=Math.floor(f),f=e.end||e.end_at,void 0===f&&(f=c.schedule[d+1].begin||c.schedule[d+1].begin_at),isNaN(f)&&(f=new Date(f).getTime(),isNaN(f)||(f/=1e3)),d<c.schedule.length&&(e.end=Math.floor(f)),void 0!==e.rewind_allowed?e.rewind_allowed=e.rewind_allowed:void 0!==e.no_rewind?e.rewind_allowed="no"===e.no_rewind:e.rewind_allowed=!0,void 0===e.embed_allowed&&(e.embed_allowed="ALL"),void 0===e.tns_heartbeat&&(e.tns_heartbeat=u.defaultTNSHeartBeat),e.orig_begin=Math.floor(e.tbegin||e.begin);x.schedule=c.schedule,a&&a(!1,x.schedule)}return!0}),!0)},adschedule:function(a,b){return b=s(b,u.api.adschedule),"plain_json"===b.type?(x.adschedule=b.json||{},void(b.json?a&&a(!1,x.adschedule):a&&a("No plain JSON found"))):(g.ajax(b.url,{type:b.type,timeout:u.timeouts.adschedule},function(b,c){var d,e,f,g,h;return b?a&&a(b):(c&&(c.adverts&&c.adverts.length||c.schedule&&c.schedule.length)&&(x.adschedule=c.adverts||c.schedule,c.timeshifts&&n&&(e=n.getEngineByName("html5shaka"))&&e.isSupported()&&(d=e.currentSource())&&d&&d.src&&(h=0,f=/\/([\da-z_\.\-]+)\/streams\//.exec(d.src),f&&void 0!==f[1]&&(h=parseFloat(c.timeshifts[f[1]])||0),void 0===e.__liveTimeDelta&&(e.__liveTimeDelta=e.opts.liveTimeDelta||0),e.opts.liveTimeDelta=e.__liveTimeDelta-h)),(null!=c&&null!=(g=c.fadverts)?g.length:void 0)&&(x.unskippable_adschedule=c.fadverts),a&&a(!1,x.adschedule,x.unskippable_adschedule)),!0}),!0)},unskippable_adschedule:function(a,b){return b=s(b,u.api.unskippable_adschedule),"plain_json"===b.type?(x.unskippable_adschedule=b.json||{},void(b.json?a&&a(!1,x.unskippable_adschedule):a&&a("No plain JSON found"))):(g.ajax(b.url,{type:b.type,timeout:u.timeouts.unskippable_adschedule},function(b,c){var d,e,f,g,h;return b?a&&a(b):((null!=c&&null!=(g=c.fadverts)?g.length:void 0)&&(x.unskippable_adschedule=c.fadverts,c.timeshifts&&n&&(e=n.getEngineByName("html5shaka"))&&e.isSupported()&&(d=e.currentSource())&&d&&d.src&&(h=0,f=/\/([\da-z_\.\-]+)\/streams\//.exec(d.src),f&&void 0!==f[1]&&(h=parseFloat(c.timeshifts[f[1]])||0),void 0===e.__liveTimeDelta&&(e.__liveTimeDelta=e.opts.liveTimeDelta||0),e.opts.liveTimeDelta=e.__liveTimeDelta-h)),a&&a(!1,x.unskippable_adschedule)),!0}),!0)}},w={check:function(){var a,b,c;if(b=n.engine(),a=b.currentSource().src,c=b.getSource().src[0].src,this.hasEdgeChanged(a,c))return this.switch()},hasEdgeChanged:function(a,b){var c,d;try{return d=new URL(a).hostname,c=new URL(b).hostname,c!==d}catch(a){return!1}},switch:function(){var a,b,c;if(n&&(a=n.engine(),a&&a.hasNextSource()))return b=a.paused()===!1,c=a.currentTime(),a.nextSource(b,c)}},new window.EUMP.player(a,u.playerOpts,function(a,c){var g,i,k,l,q,r,s,y;if(n=c,c.on("destroy",function(){return c=void 0,n=void 0}),a)f&&f(a,c);else{if(c.addClass("eump-loading"),u.feedback_url&&(k=c.error,c.error=function(a){var b,e,f,g,h,i;i=u.feedback_url,g={location:d.param("location"),player:"eump1tv",playerver:c.version(),engine:"-",src:"-"},b=a.engine||c.engine(),b?(g.engine=b.name,g.src=JSON.stringify(b.currentSource())):c.src()?g.src=JSON.stringify(c.src()):c.item()?g.src=JSON.stringify(c.item().src||"-"):g.src="-";for(f in g)t.call(g,f)&&(i=i.replace("%"+f+"%",encodeURIComponent(g[f])));if(a.error?e=a.error:a.code&&c.opts.errorsLabels[a.code]&&(a=c.opts.errorsLabels[a.code]),i=i.replace("%error%",encodeURIComponent(a.error||"")),h=!1,"Unable to play video"!==a.error&&3!==a.code||(h=!0),a.error=c.i18nText(a.error||"Unknown error"),h||(a+='<p class="eump1tv-feedback"><a href="'+i+'"',d.is("embedded")&&(a+=' target="_blank"'),a+=">Сообщить о проблеме</a></p>",k(a)),h)return k(a,{button:!0})}),s=function(a,b){c.trigger("error",{code:b||101,error:a,internalView:!0}),f&&f(a,c)},i={restrictions:function(a){return j.restrictions(function(b){if(b||c.live1tv.restrictions(x.restrictions),a)return a(b)}),!0},sources:function(a){return j.sources(function(b){var d;return b?void a(b):(m(x.sources,u.protectionKey),d=function(){if(c.live1tv.sources(x.sources,x.country),u.useSourceSwitcher)return w.check()},void(n.hasPlugin("com")&&n.com.block()?n.one("comblockended",d):d()))})},adschedule:function(a){return j.adschedule(function(b){if(!(u.detectAdBlock&&c.hasPlugin("antiblock")&&c.antiblock.detected()))return b||c.live1tv.adschedule(x.adschedule),!b&&x.unskippable_adschedule&&c.live1tv.unskippable_adschedule(x.unskippable_adschedule),c.setTimeout(i.adschedule,u.intervals.adschedule),a?a(b):void 0})},unskippable_adschedule:function(a){return j.unskippable_adschedule(function(b){if(!(u.detectAdBlock&&c.hasPlugin("antiblock")&&c.antiblock.detected()))return b||c.live1tv.unskippable_adschedule(x.unskippable_adschedule),c.setTimeout(i.unskippable_adschedule,u.intervals.unskippable_adschedule),a?a(b):void 0})},schedule:function(a){return j.schedule(function(b){if(b||c.live1tv.schedule(x.schedule),a)return a(b)})},protectionKey:function(){return j.protectionKey()}},q=function(){var a,b,e,g,h,j,k,l,m,n,o,p;if(l={src:x.sources,com:x.adverts,tns_heartbeat:u.defaultTNSHeartBeat},c.opts.mobAppEmbed||("auto"===u.start?c.turnOnForceLoading():(a=c.elem("bigButton"),a.one("click",function(a){return c.turnOnForceLoading(500)}))),c.removeClass("eump-loading"),c.hasPlugin("live1tv")&&c.live1tv.sources(!1,x.country),n=function(){var a,b,e,f;return b=["IE","Edge"].indexOf(d.param("browser.name"))!==-1,f=c.hasPlugin("live1tv")?c.live1tv.getSeekProxy().getSeekWindow():c.engine().getSeekWindow(),f[0]===-1||b?f!==-1||f[2]?setTimeout(function(){var a,b;return a=c.hasPlugin("live1tv")?c.live1tv.getCurTime():null,b=u.startTime||a||"now",c.live1tv.seekTo(b,!0,f[2]===-1,!0)},2e3):void 0:(a=c.hasPlugin("live1tv")?c.live1tv.getCurTime():null,e=u.startTime||a||"now",c.live1tv.seekTo(e,!0,f[2]===-1,!0))},m={html5:"timeupdate",html5p:"timeupdate",html5shaka:"Safari"===d.param("browser.name")&&"Mac OS"===d.param("os.name")?"canplay":"loadedmetadata",html5hlsjs:"loadedmetadata"},b=[],o={seeked:function(){return c.trigger("startprerollinlive"),c.hasPlugin("com")||c.turnOffForceLoading(),c.off("seeked",o.seeked)},clear:function(){if(void 0!==c)return c.off("engineready",o.engineready),b.forEach(function(a){return c.off(a.event,a.handler)})},handleRewindAvailable:function(){return n(),o.clear()},engineready:function(a){var d,e;return d=a.data.engine,e=m[d.type],b.push({event:e,handler:o.handleRewindAvailable}),c.one(e,o.handleRewindAvailable),c.on("seeked",o.seeked)}},c.one("error",o.clear),c.one("engineready",o.engineready),c.item(l),c.hasPlugin("live1tv")&&u.api.schedule&&i.schedule(),u.allowMutedAutoStart&&(d.is("mobile")&&("MIUI Browser"===d.param("browser.name")||"UCBrowser"===d.param("browser.name"))||"iOS"===d.param("os.name")&&d.param("os.version.major")<=9||"Chrome WebView"===d.param("browser.name")&&d.param("browser.version.major")<55||"Android Browser"===d.param("browser.name")&&d.param("browser.version.major")<=4)&&(u.allowMutedAutoStart=!1),c.opts.forcedPlay&&"none"!==u.start&&(v=!0),c.opts.forcedPause&&(v=!1),u.skipAutoStartOnAdBlock&&window.EUMP.antiblock.detected?v=!1:"visible"===u.start&&(c.opts.userGestureFlag||u.allowMutedAutoStart)&&(c.visible()?v=!0:(v=!1,p=function(){return c.visible()&&"ready"===c.readyState&&(c.off("visibilitychange",p),c.play()),!0},c.on("visibilitychange",p))),!v||c.userGestureFlag()||u.allowMutedAutoStart||(v=!1),v&&c.play(),!v&&c.opts.forcedPause&&c.pause(),c.hasPlugin("live1tv")){if(u.api.adschedule&&!d.is("smarttv")&&(!d.is("mobile")||u.enableInjectOnMobile)&&(!u.detectAdBlock||!window.EUMP.antiblock.detected)){for(h=!1,g=["html5hlsjs","html5shaka"],j=0;!h&&j<g.length;)e=c.getEngineByName(g[j]),h=e&&e.isSupported(),j++;h&&i.adschedule()}if(u.api.unskippable_adschedule&&!d.is("smarttv")&&(!d.is("mobile")||u.enableInjectOnMobile)&&(!u.detectAdBlock||!window.EUMP.antiblock.detected)){for(h=!1,g=["html5hlsjs","html5shaka"],j=0;!h&&j<g.length;)e=c.getEngineByName(g[j]),h=e&&e.isSupported(),j++;h&&i.unskippable_adschedule()}k=[],u.intervals.restrictions&&k.push(c.setInterval(i.restrictions,u.intervals.restrictions)),u.api.schedule&&u.intervals.schedule&&k.push(c.setInterval(i.schedule,u.intervals.schedule)),u.api.unskippable_adschedule&&u.intervals.unskippable_adschedule&&k.push(c.setInterval(i.unskippable_adschedule,u.intervals.unskippable_adschedule)),u.intervals.sources&&k.push(c.setInterval(i.sources,u.intervals.sources)),u.api.protectionKey&&u.intervals.protectionKey&&k.push(c.setInterval(i.protectionKey,u.intervals.protectionKey)),c.on("error",function(){var a,b,d;for(d=[],a=0,b=k.length;a<b;a++)j=k[a],d.push(c.clearTimeout(j));return d})}return c.EUMPStarter={updateAPI:function(a,b){return u.api[a]?(u.api[a]=b,!0):(console.error("EUMPStarter: API '"+a+"' not found"),!1)},checkAPI:function(a,b){return i[a]?i[a](b):(console.error("EUMPStarter: API checker '"+a+"' not found"),b?b("No checker found"):void 0)}},f&&f(!1,c),!0},l=function(){if(r.sources&&r.restrictions&&r.adverts&&r.protectionKey)return d.param("UA").toLowerCase().indexOf("windows nt 5.1")!==-1||d.param("UA").toLowerCase().indexOf("windows nt 5.2")!==-1?void s(p.error_os):x.sources?u.useDefaultCountryRestrictions&&o[x.country]?void s(o[x.country],102):x.restrictions?(u.detectAdBlock?window.EUMP.antiblock.detect({cb:function(){return q()}}):q(),!0):void s(p.error_restrictions_load):void s(p.error_sources_load)},void 0===u.api.sources||void 0===u.api.restrictions)return void s(p.error_sources_load);if(u.allowDomains&&!e.domainEqual(d.param("domain"),u.allowDomains))return void s(p.error_domain);r={sources:!1,restrictions:!1,adverts:!1,protectionKey:!1},j.sources(function(a,c){var d,e,f,g,i,k,n,o,q,t,v,w;for(a&&(x.sources=!1),r.sources=!0,v=!1,d=!1,g=0,k=c.length;g<k;g++)if(t=c[g],["hls","hlsp"].indexOf(t.id)>-1)for(v=!0,q=t.src,i=0,n=q.length;i<n;i++)w=q[i],h(w)&&(d=!0);return v?(f=["hlsp"].indexOf(t.id)>-1,d&&"undefined"==typeof u.protectionKey?(o=b.storage.getCookie("s"),o&&u.tryCookieProtectionKey?(e=function(){return r.protectionKey=!0,u.protectionKey=encodeURIComponent(o),m(x.sources,u.protectionKey),l()},u.hlsLongSourceSwitchEnabled&&!f?j.sources_long(e):e()):j.protectionKey(function(a){return a?void s(p.error_protection_key):(e=function(){return r.protectionKey=!0,m(x.sources,u.protectionKey),l()},u.hlsLongSourceSwitchEnabled&&!f?j.sources_long(e):e())})):(e=function(){return r.protectionKey=!0,l()},u.hlsLongSourceSwitchEnabled&&!f?j.sources_long(e):e())):(r.protectionKey=!0,l())}),j.restrictions(function(a){return a&&(x.restrictions=!1),r.restrictions=!0,c.hasPlugin("live1tv")&&x.restrictions&&c.live1tv.restrictions(x.restrictions),l()}),g=function(a,b){var c;return c=!1,null==a?void b({success:0,proxy:void 0}):window.EUMP.fw.ajax(a,{type:"json"},function(a,c){return a?void b({success:0,proxy:void 0}):b(c)})},y=function(){return u.api.adverts?j.adverts(function(a){return a&&(x.adverts=void 0),r.adverts=!0,l()}):(r.adverts=!0,l())},g(u.api.proxy,function(a){var b;return 1===a.success&&1===a.proxy&&(b=function(){var a;return a={custom:!0,text:p.error_proxy_is_using},c.trigger("error",{code:102,error:p.error_proxy_is_using}),c.live1tv.forbiddenMode(!0,a,!0)},setTimeout(b,200),setTimeout(b,500),setTimeout(b,1e3),setTimeout(b,3e3)),y()})}return c})}}).call(this);