"use strict";!function(a){function b(){var a=window.EUMPConfig;window.EUMP.fw.extend(a,{pluginsOpts:{commercial_statistics_1tv:{enabled:!1},analytical_statistics_1tv:{ignoreEventSendFor:{playing:12e4},protocol:"http"},realtime_statistics_1tv:{protocol:"http",periodTick:120},p2pteleport_1tv:{html5shaka:{teleportSource:"//static.1tv.ru/player/teleport_media/stable/teleport.shaka.1tv.bundle.js"}}},enginesOpts:{html5shaka:{spreadEnd:5}}}),window.EUPMEmbedLiveConfig=window.EUPMEmbedLiveConfig||{},window.EUMP.fw.extend(window.EUPMEmbedLiveConfig,{api:{adschedule:{type:"json",url:"https://1tv-live-gcore.servicecdn.ru/api/com-inject.json"}}})}var c=window.EUMP.fw;if(!c.queryParam("__noinit")){var d=!1,e=["*.1tv.ru","*.teletarget.ru","localhost","*.1internet.tv","*.1internettv.ru","*.sport1tv.ru"],f="https://www.1tv.ru/live",g='<br/><br/><a target="_parent" href="'+f+'">Смотреть прямой эфир на сайте www.1tv.ru</a>',h={wrong_domain:"Размещение плеера на этом домене запрещено",global_error:"Ошибка плеера"},i={player:c.select("#player")};if(d&&!a.device.is("embedded"))return i.player.html(g),void(window.location=f);var j,k=location.hostname||document.domain;switch(k){case"stage.1tv.ru":case"local.1tv.ru":j="https://stage.1tv.ru/api/www/v1";break;case"cm.1tv.ru":j="https://cm.1tv.ru/api/www/v1";break;default:j="https://api.1tv.ru/www/v1"}c.ajax(j+"/highload",{type:"json",async:!1},function(a,c){a||c.data&&c.data.highload&&b()});var l={seekable:!1,singlePosition:!0,api:{sources:{type:"json",url:"//stream.1tv.ru/api/playlist/1tvch-v1_as_array.json?r=[random]"},sources_long:{type:"json",url:"//stream.1tv.ru/api/playlist/1tvch-dvr-hls-12h_as_array.json?r=[random]"},adschedule:{type:"json",url:"//stream.1tv.ru/api/com-inject.json?r=[random]"},schedule:{type:"json",url:"//stream.1tv.ru/api/schedule.json?r=[random]"},restrictions:{type:"json",url:"//stream.1tv.ru/api/restrictions.json?r=[random]"},bumpers:{url:"//static.1tv.ru/player/eump1tv-config/bumpers-live.json",type:"json"},adverts:{type:"json",url:c.queryParam("adverts_api_url")||"//stream.1tv.ru/api/com-live.json?r=[random]"},forced_adverts:{type:"json",advert_api_url:j+"/video_ad_places",path:c.queryParam("forced_advert_path")||null},protectionKey:{type:"api"},drm:{mpdp:[{type:"com.widevine.alpha",serverURL:"https://one.drmnow.ru/widevine"},{type:"com.microsoft.playready",serverURL:"https://one.drmnow.ru/playready/rightsmanager.asmx"}],hlsp:[{type:"com.apple.fps.1_0",licenseURL:"https://one.drmnow.ru/fairplay",certificateURL:"https://static3.1tv.ru/_drm_/fairplay/fairplay.der"}]}},useDVR:!1,useP2P:!1,srcOrder:["mpdp","hlsp","mpd","hls"]};void 0!==window.EUPMEmbedLiveConfig&&a.fw.extend(l,window.EUPMEmbedLiveConfig);var m=function(a){return["0","false","no"].indexOf(a)===-1},n=c.queryParam("__dvr");n&&(l.useDVR=m(n)),n=c.queryParam("__p2p"),n&&(l.useP2P=m(n));var o=c.queryParam("start");l.start=void 0!==o&&null!==o?o:"auto";var p=c.queryParam("__ref");a.device.is("embedded")&&"yaremote"===p?(l.allowMutedAutoStart=!1,l.playerOpts={pluginsOpts:{analytical_statistics_1tv:{playerId:"eump1tv/yaremote"},remote:{enabled:!0,controls:{use:!!window.EUMP.device.is("mobile")||void 0},engineErrorsFilter:{dataUrlRe:/^(https?:)?\/\/strm\.yandex\.ru/}},live1tv:{labels:{forbidden_embed:"Недоступно для просмотра"}},com:{allowWowRolls:!1},com1tv:{adFox:{allowWowRolls:!1,puids:{59:1}}},antiblock:{checkOnly:!0}},storagePrefix:"eump1tv-ya-",disableRoaming:!0,captionsEnabled:!1,enginesOpts:{html5:{nativeControls:{mobile:!0}},html5p:{nativeControls:{mobile:!0}},html5hlsjs:{nativeControls:{mobile:!0}},html5shaka:{nativeControls:{mobile:!0}}}},l.feedback_url=!1,l.start="none",l.useP2P=!1,window.EUMPConfig.plugins.push("remote")):l.playerOpts={},n=c.queryParam("t"),n&&(l.useDVR=!0,l.startTime=n,c.extend(l.playerOpts,{pluginsOpts:{live1tv:{startTime:n}}}));var q=c.queryParam("pid");void 0===l.playerOpts.pid&&q&&(l.playerOpts.pid=decodeURIComponent(q)),"no"===c.queryParam("shareEnabled")&&c.extend(l.playerOpts,{pluginsOpts:{share:{enabled:!1}}});var r=window.EUMP.fw.queryParam("__location");r&&(r=decodeURIComponent(r).substr(0,255),c.extend(l.playerOpts,{pluginsOpts:{analytical_statistics_1tv:{location:r},com1tv:{location:r}}})),c.extend(l.playerOpts,{pluginsOpts:{mediatag_1tv:{location:document.referrer.toString()}}}),l.useDVR?l.seekable=!0:l.startTime=void 0,l.useP2P&&"IE"!==window.EUMP.device.param("browser.name")&&(c.extend(l.playerOpts,{pluginsOpts:{p2pteleport_1tv:{enabled:!0}}}),window.EUMPConfig.plugins.indexOf("p2pteleport_1tv")===-1&&window.EUMPConfig.plugins.push("p2pteleport_1tv"));var s,t=window.EUMP.device.param("userAgent"),u=/^com.ipspirates.ort/i.test(t)||/^ru.ottmedia.android/i.test(t)||/^ru.ottmedia.ios/i.test(t);if(u&&(null!==(s=/(com\.ipspirates\.ORT)\s(v\.\S+)\s\(([^,]+),\s([^,]+),\s([^)]+)\)/i.exec(t))||null!==(s=/(ru\.ottmedia\.android)\s(v\.\S+)\s\(([^,]+),\s([^,]+),\s([^)]+)\)/i.exec(t))||null!==(s=/(ru\.ottmedia\.ios)\s(v\.\S+)\s\(([^,]+),\s([^,]+),\s([^)]+)\)/i.exec(t)))){var v={UA:t,version:s[2],OS:s[4],model:s[3],lang:s[5]};v.OS&&/iOS/i.test(v.OS)?v.platform="iOS":v.OS&&/iPadOS/i.test(v.OS)?v.platform="iPadOS":v.OS&&/Android/i.test(v.OS)&&(v.platform="Android")}u&&(c.extend(l.playerOpts,{mobAppEmbed:!0,mobAppEmbedOpts:v||{}}),c.extend(l.api.adverts,{url:l.api.adverts.url+(l.api.adverts.url.indexOf("?")===-1?"?type=mobile":"&type=mobile")}),c.extend(l.playerOpts,{pluginsOpts:{p2pteleport_1tv:{html5shaka:{getKey:function(a){return a?"48e6df4b60deb3b8":"017c40ec39dd27cc"}},html5hlsjs:{getKey:function(a){return a?"48e6df4b60deb3b8":"017c40ec39dd27cc"}}},live1tv:{titleTemplate:"%title%"}}}));var w=/^(?:http[s]?:\/\/)([a-z . \- 0-9]+)/,x=r?w.exec(r)[1]:a.device.param("domain"),y=a.helpers.domainEqual(x,e);if((!y||window.EUMPGlobalError)&&!u)return l.start="auto",l.api={sources:{json:{country:"RU",hls:["no_src"]},type:"plain_json"},schedule:"https://stream.1tv.ru/api/schedule.json?r=[random]",protectionKey:{type:"api"},restrictions:void 0},c.extend(l,{playerOpts:{pluginsOpts:{remote:{controls:{use:!0}}}}}),i.player.bindSingle("control",function(a){"control.play"===a.origType&&(i.player.trigger("pause"),i.player.trigger("bufferingend"),a.stopImmediatePropagation())},!1,!0),void window.initEUMP1TVlive(i.player,l,function(a,b){var c=y?window.EUMPGlobalError.error||window.EUMPGlobalError:h.wrong_domain,d=c+g;b.trigger("error",{code:102,error:d,fatal:!0}),void 0!==window.EUMPGlobalError.poster&&b.poster(window.EUMPGlobalError.poster)});var z=c.queryParam("muted");z&&(l.playerOpts.muted=!("yes"!==z));var A=c.queryParam("titleEnabled");A&&(l.playerOpts.titleEnabled=!("yes"!==A));var B=c.queryParam("embed_id");B&&c.extend(l.playerOpts,{pluginsOpts:{remote:{embedUID:B}}}),window.initEUMP1TVlive(i.player,l,function(b,c){if(!b){var d=a.fw.select("title");if(c.on("live1tvposchange",function(a){d.text((a&&a.data&&a.data.schedulePosition?a.data.schedulePosition.title+". ":"")+"Прямой эфир Первый канал")}),c.opts.mobAppEmbed){c.addClass("eump-mob-app"),v.platform&&"Android"===v.platform&&c.addClass("eump-mob-app-android"),!v.platform||"iOS"!==v.platform&&"iPadOS"!==v.platform||c.addClass("eump-mob-app-ios"),c.elem("live1tv_ctrl_now").addClass("eump-control-hide-permanently"),c.elem("live1tv_ctrl_now_small").removeClass("eump-control-hide-permanently");var e=window.EUMP.res.svgAttrs,f=window.EUMP.res.svg,g=window.EUMP.res.ctrlAttrs,h=["div",{cls:"eump-control eump-control-close-player eump-v-wrap",attr:g,html:'<svg class="eump-v-box" viewBox="0 0 26 26" '+e+">"+f.close_btn_arrow+"</svg>"},"header","prepend"];c.addResource("closePlayer",h),c.elem("closePlayer").click(function(a){a.preventDefault(),a.stopImmediatePropagation(),c.trigger("playerclose")});var i=["ctrl_fullScreen","ctrl_options"];i.forEach(function(a){var b=c.elem(a);b&&b.addClass("eump-control-hide-permanently")})}}})}}(window.EUMP);